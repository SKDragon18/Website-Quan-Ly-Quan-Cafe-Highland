/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.71
 * Generated at: 2023-06-21 03:57:10 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.sanpham;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import ptithcm.entity.CongThuc;
import org.apache.jasper.tagplugins.jstl.core.Import;
import java.sql.*;
import java.util.List;
import ptithcm.entity.ChiTietNguyenLieu;
import ptithcm.entity.NguyenLieu;

public final class view3_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("jar:file:/D:/Workspace2/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/Highlands/WEB-INF/lib/jstl-impl.jar!/META-INF/c.tld", Long.valueOf(1343794618000L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-impl.jar", Long.valueOf(1679084736000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("java.sql");
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("org.apache.jasper.tagplugins.jstl.core.Import");
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("ptithcm.entity.NguyenLieu");
    _jspx_imports_classes.add("ptithcm.entity.ChiTietNguyenLieu");
    _jspx_imports_classes.add("ptithcm.entity.CongThuc");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fchoose;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fchoose = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.release();
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.release();
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.release();
    _005fjspx_005ftagPool_005fc_005fchoose.release();
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("	");
      if (_jspx_meth_c_005fset_005f0(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("	<head>\r\n");
      out.write("	<meta charset=\"ISO-8859-1\">\r\n");
      out.write("	<link rel=\"icon\" type=\"image/png\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${root}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/resources/img/highlands coffee red logo.png\"/>\r\n");
      out.write("	<title>Bán hàng</title>\r\n");
      out.write("	\r\n");
      out.write("	<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${root}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/resources/sanpham/css/styles.css\" rel=\"stylesheet\"/>\r\n");
      out.write("	\r\n");
      out.write("	<script>\r\n");
      out.write("	    var ctnlList = [];\r\n");
      out.write("	    ");
 
	        @SuppressWarnings("unchecked")
	        List<ChiTietNguyenLieu> listCTNL = (List<ChiTietNguyenLieu>) request.getAttribute("listCTNL");
	        for (ChiTietNguyenLieu ctnl : listCTNL) { 
	    
      out.write("\r\n");
      out.write("	    ctnlList.push({\r\n");
      out.write("	    	maSP: '");
      out.print( ctnl.getPk().getCT_SANPHAM().getSANPHAM().getMASP() );
      out.write("',\r\n");
      out.write("	        maSize: '");
      out.print( ctnl.getPk().getCT_SANPHAM().getSIZE().getMASIZE() );
      out.write("',\r\n");
      out.write("	        maNL: '");
      out.print( ctnl.getNGUYENLIEU().getMANL() );
      out.write("',\r\n");
      out.write("	        soLuong: ");
      out.print( ctnl.getSOLUONG() );
      out.write("\r\n");
      out.write("	    });\r\n");
      out.write("	    ");
 } 
      out.write("\r\n");
      out.write("	</script>\r\n");
      out.write("	<script>\r\n");
      out.write("	    var nlList = [];\r\n");
      out.write("	    ");
 
	        @SuppressWarnings("unchecked")
	        List<NguyenLieu> listNL = (List<NguyenLieu>) request.getAttribute("listNL");
	        for (NguyenLieu nl : listNL) { 
	    
      out.write("\r\n");
      out.write("	    nlList.push({\r\n");
      out.write("	    	maNL: '");
      out.print( nl.getMANL() );
      out.write("',\r\n");
      out.write("	        slt: ");
      out.print( nl.getSLTON() );
      out.write(",\r\n");
      out.write("	    });\r\n");
      out.write("	    ");
 } 
      out.write("\r\n");
      out.write("	</script>\r\n");
      out.write("	<script>\r\n");
      out.write("	    var ctList = [];\r\n");
      out.write("	    ");
 
	        @SuppressWarnings("unchecked")
	        List<CongThuc> listCT = (List<CongThuc>) request.getAttribute("listCT");
	        for (CongThuc ct : listCT) { 
	    
      out.write("\r\n");
      out.write("	    ctList.push({\r\n");
      out.write("	    	maCT: '");
      out.print( ct.getMACT() );
      out.write("',\r\n");
      out.write("	        congThuc: '");
      out.print( ct.getCONGTHUC() );
      out.write("'\r\n");
      out.write("	    });\r\n");
      out.write("	    ");
 } 
      out.write("\r\n");
      out.write("	</script>\r\n");
      out.write("	</head>\r\n");
      out.write("	<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js\"></script>	\r\n");
      out.write("<body>\r\n");
      out.write("<form id=\"myForm\" method=\"POST\">\r\n");
      out.write("  <input type=\"hidden\" name=\"MANL\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"SLT\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"MAHD\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"MASP\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"MASIZE\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"SOLUONG\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"MANV\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"TONGTIEN\" value=\"\" />\r\n");
      out.write("  <input type=\"hidden\" name=\"KMAI\" value=\"\" />\r\n");
      out.write("</form>\r\n");
      out.write("<div class=\"none-display\">\r\n");
      out.write("  ");
      if (_jspx_meth_c_005fforEach_005f0(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"left-column\">\r\n");
      out.write("  <div class=\"categories\">\r\n");
      out.write("    <div class=\"category active\" data-maloai=\"all\">All</div>\r\n");
      out.write("    ");
      if (_jspx_meth_c_005fforEach_005f1(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("  </div>\r\n");
      out.write("  <hr>\r\n");
      out.write("  <div id=\"product-container\">\r\n");
      out.write("    ");
      if (_jspx_meth_c_005fforEach_005f2(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"right-column\">\r\n");
      out.write("  <div class=\"product-details\">\r\n");
      out.write("    <h3>Chi tiết sản phẩm</h3>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"total-cost-box\">\r\n");
      out.write("    <p>Tổng cộng:</p>\r\n");
      out.write("    <p id=\"total-cost-value\"></p>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"confirm-button\" data-access-hd=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${nextID}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" data-access-nv=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${manv}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" data-access-km=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${makm}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\">\r\n");
      out.write("    <button id=\"confirm-btn\">Xác nhận</button>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"overlay\">\r\n");
      out.write("  <div id=\"left-section\">\r\n");
      out.write("    <h2>ĐƠN ĐẶT HÀNG</h2>\r\n");
      out.write("    <h3 id=\"mahd\"></h3>\r\n");
      out.write("    <div class=\"product-how\"></div>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"right-section\">\r\n");
      out.write("    <h4 style=\"text-align: center;\">HIGHLANDS COFFEE</h4>\r\n");
      out.write("    <p style=\"text-align: center;\">331 Le Van Viet, Hiep Phu W, Dis 9</p>\r\n");
      out.write("    <p style=\"text-align: center;\">Tel: (84-28) 7108 4949</p>\r\n");
      out.write("    <p id=\"hd-nv\" style=\"text-align: center;\"></p>\r\n");
      out.write("    <h2 style=\"text-align: center;\">*Receipt*</h2>\r\n");
      out.write("    <p style=\"text-align: center;\">---------------------------------------------</p>\r\n");
      out.write("    <div class=\"bill-product\"></div>\r\n");
      out.write("    <p style=\"text-align: center;\">---------------------------------------------</p>\r\n");
      out.write("    <div class=\"bill-total\"></div>\r\n");
      out.write("    <p style=\"text-align: center;\">---------------------------------------------</p>\r\n");
      out.write("    <p style=\"text-align: center;\">*Chia se y kien cua ban voi chung toi*</p>\r\n");
      out.write("    <p style=\"text-align: center;\">customerservice@highland</p>\r\n");
      out.write("  </div>\r\n");
      out.write("  <button id=\"close-overlay\">Close</button>\r\n");
      out.write("</div>\r\n");
      out.write("	\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("const maloaiButtons = document.querySelectorAll('.category');\r\n");
      out.write("const kmList = document.querySelectorAll(\".none-display .noDP\");\r\n");
      out.write("const products = document.querySelectorAll('.product');\r\n");
      out.write("const confirmButton = document.querySelector('.confirm-button');\r\n");
      out.write("let selectedProduct = null;\r\n");
      out.write("let total = 0;\r\n");
      out.write("let nop = 0;\r\n");
      out.write("let nextID = confirmButton.dataset.accessHd;\r\n");
      out.write("const nvID = confirmButton.dataset.accessNv;\r\n");
      out.write("let makm = confirmButton.dataset.accessKm;\r\n");
      out.write("const form = document.getElementById(\"myForm\");\r\n");
      out.write("\r\n");
      out.write("nextID = parseInt(nextID) + 1;\r\n");
      out.write("\r\n");
      out.write("let paymentDisplayed = false;\r\n");
      out.write("\r\n");
      out.write("function sendCTSP() {\r\n");
      out.write("    const productDetails = document.querySelectorAll(\".product-details .product-info\");\r\n");
      out.write("    for (let i = 0; i < productDetails.length; i++) {\r\n");
      out.write("        const isProductChecked = productDetails[i].dataset.productChoice;\r\n");
      out.write("        if ((isProductChecked) === \"true\") {\r\n");
      out.write("            const masp = productDetails[i].dataset.productId;\r\n");
      out.write("            const size = productDetails[i].dataset.productSize;\r\n");
      out.write("            const quantity = productDetails[i].dataset.productQuantity;\r\n");
      out.write("            \r\n");
      out.write("            form.elements.MASP.value += masp + ',';\r\n");
      out.write("            form.elements.MASIZE.value += size + ',';\r\n");
      out.write("            form.elements.SOLUONG.value += quantity + ',';\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function sendDataToServer() {\r\n");
      out.write("	form.elements.MANV.value = nvID;\r\n");
      out.write("	form.elements.MAHD.value = nextID;\r\n");
      out.write("	form.elements.TONGTIEN.value = total;\r\n");
      out.write("	form.elements.KMAI.value = makm;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function sendNL() {\r\n");
      out.write("    for (let i = 0; i < nlList.length; i++) {\r\n");
      out.write("    	form.elements.MANL.value += nlList[i].maNL + ',';\r\n");
      out.write("    	form.elements.SLT.value += nlList[i].slt + ',';\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toggleCheck(event) {\r\n");
      out.write("    nop -= 1;\r\n");
      out.write("\r\n");
      out.write("    const paymentButton = document.getElementById('payment-btn');\r\n");
      out.write("    if (nop == 0 && paymentButton != null) paymentButton.style.display = 'none';\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    const checkButton = event.target;\r\n");
      out.write("    const productInfo = checkButton.closest(\".product-info\");\r\n");
      out.write("    const isChecked = checkButton.checked;\r\n");
      out.write("    productInfo.setAttribute(\"data-product-choice\", isChecked);\r\n");
      out.write("\r\n");
      out.write("    filterList = ctnlList.filter(item => item.maSP === productInfo.dataset.productId && item.maSize === productInfo.dataset.productSize);\r\n");
      out.write("\r\n");
      out.write("    if (filterList.length != 0) {\r\n");
      out.write("        for (let j = 0; j < filterList.length; j++) {\r\n");
      out.write("            for (let i = 0; i < nlList.length; i++) {\r\n");
      out.write("                if (filterList[j].maNL === nlList[i].maNL) {\r\n");
      out.write("                    nlList[i].slt += parseInt(productInfo.dataset.productQuantity) * filterList[j].soLuong;\r\n");
      out.write("                    break;\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    console.log(nlList);\r\n");
      out.write("\r\n");
      out.write("    if (isChecked) {\r\n");
      out.write("        checkButton.classList.remove(\"unchecked\");\r\n");
      out.write("        productInfo.setAttribute(\"data-product-choice\", \"true\");\r\n");
      out.write("    } else {\r\n");
      out.write("        checkButton.classList.add(\"unchecked\");\r\n");
      out.write("        productInfo.setAttribute(\"data-product-choice\", \"false\");\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function toggleCheckVer1(event) {\r\n");
      out.write("    const checkButton = event.target;\r\n");
      out.write("    const productInfo = checkButton.closest(\".product-info\");\r\n");
      out.write("    let isChecked = productInfo.getAttribute(\"data-product-choice\") === \"true\";\r\n");
      out.write("\r\n");
      out.write("    if (isChecked) {\r\n");
      out.write("        checkButton.classList.add(\"unchecked\");\r\n");
      out.write("        isChecked = false;\r\n");
      out.write("    } else {\r\n");
      out.write("        checkButton.classList.remove(\"unchecked\");\r\n");
      out.write("        isChecked = true;\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    productInfo.setAttribute(\"data-product-choice\", isChecked);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function payment() {\r\n");
      out.write("    let subTotal = 0;\r\n");
      out.write("\r\n");
      out.write("    const productDetails = document.querySelectorAll(\".product-details .product-info\");\r\n");
      out.write("    const totalDisplay = document.getElementById(\"total-cost-value\");\r\n");
      out.write("    for (let i = 0; i < productDetails.length; i++) {\r\n");
      out.write("        const isProductChecked = productDetails[i].dataset.productChoice;\r\n");
      out.write("        if ((isProductChecked) === \"true\") {\r\n");
      out.write("            const price = productDetails[i].dataset.productPrice;\r\n");
      out.write("            const quantity = productDetails[i].dataset.productQuantity;\r\n");
      out.write("            subTotal += parseInt(productDetails[i].dataset.productPrice, 10) * parseInt(productDetails[i].dataset.productQuantity, 10);\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    total = subTotal;\r\n");
      out.write("    totalDisplay.textContent = subTotal.toString();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addProduct(event) {\r\n");
      out.write("    const addButton = event.currentTarget;\r\n");
      out.write("    const productName = addButton.dataset.productName;\r\n");
      out.write("    const productSize = addButton.dataset.productSize;\r\n");
      out.write("    const productQuantity = addButton.dataset.productQuantity;\r\n");
      out.write("    let productPrice = addButton.dataset.productPrice;\r\n");
      out.write("    const productID = addButton.dataset.productId;\r\n");
      out.write("    const productCT = addButton.dataset.productCt;\r\n");
      out.write("    let qtyArray = []\r\n");
      out.write("\r\n");
      out.write("    filterList = ctnlList.filter(item => item.maSP === addButton.dataset.productId && item.maSize === addButton.dataset.productSize);\r\n");
      out.write("    filterList.sort((a, b) => b.soLuong - a.soLuong);\r\n");
      out.write("\r\n");
      out.write("    for (let j = 0; j < filterList.length; j++) {\r\n");
      out.write("        nlSelected = nlList.find(item => item.maNL === filterList[j].maNL);\r\n");
      out.write("        qtyArray.push(parseInt(nlSelected.slt / filterList[j].soLuong));\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    if (qtyArray.length != 0) addButton.setAttribute(\"data-product-max\", parseInt(qtyArray[0]).toString());\r\n");
      out.write("\r\n");
      out.write("    for (let j = 0; j < filterList.length; j++) {\r\n");
      out.write("        for (let i = 0; i < nlList.length; i++) {\r\n");
      out.write("            if (filterList[j].maNL === nlList[i].maNL) {\r\n");
      out.write("                nlList[i].slt -= parseInt(productQuantity) * filterList[j].soLuong;\r\n");
      out.write("                break;\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    console.log(nlList);\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    for (let j = 0; j < kmList.length; j++) {\r\n");
      out.write("        const masp = kmList[j].dataset.salesMasp;\r\n");
      out.write("        const size = kmList[j].dataset.salesSize;\r\n");
      out.write("        const pt = kmList[j].dataset.salesPt;\r\n");
      out.write("\r\n");
      out.write("        if (productID == masp && size == productSize) {\r\n");
      out.write("            let tmp = 0;\r\n");
      out.write("            tmp = parseFloat(1 - parseInt(pt) / 100) * parseFloat(productPrice);\r\n");
      out.write("            productPrice = tmp.toString();\r\n");
      out.write("            break;\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    const checkButton = document.createElement(\"input\");\r\n");
      out.write("    checkButton.type = \"checkbox\";\r\n");
      out.write("    checkButton.checked = true;\r\n");
      out.write("\r\n");
      out.write("    const productDetails = document.querySelectorAll(\".product-details .product-info\");\r\n");
      out.write("    let foundDuplicate = false;\r\n");
      out.write("    for (let i = 0; i < productDetails.length; i++) {\r\n");
      out.write("        const nameSpan = productDetails[i].querySelector(\".product-name\");\r\n");
      out.write("        const sizeSpan = productDetails[i].querySelector(\".product-size\");\r\n");
      out.write("        const quantitySpan = productDetails[i].querySelector(\".product-quantity\");\r\n");
      out.write("        const detailsSpan = productDetails[i].querySelector(\".price-detail\");\r\n");
      out.write("\r\n");
      out.write("        const isProductChecked = productDetails[i].dataset.productChoice;\r\n");
      out.write("\r\n");
      out.write("        console.log(nameSpan.textContent.split('[')[0]);\r\n");
      out.write("\r\n");
      out.write("        if (nameSpan.textContent.split('[')[0] === productName && sizeSpan.textContent === productSize && isProductChecked === \"true\") {\r\n");
      out.write("            let newQuantity = parseInt(quantitySpan.textContent) + parseInt(productQuantity);\r\n");
      out.write("            if (newQuantity <= parseInt(addButton.dataset.productMax)) {\r\n");
      out.write("                quantitySpan.textContent = newQuantity;\r\n");
      out.write("                productDetails[i].dataset.productQuantity = newQuantity;\r\n");
      out.write("                detailsSpan.textContent = '[' + parseInt(productDetails[i].dataset.productPrice) + ' x ' + newQuantity + ' = ' + parseInt(productDetails[i].dataset.productPrice) * parseInt(newQuantity) + ']';\r\n");
      out.write("            }\r\n");
      out.write("            foundDuplicate = true;\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    if (!foundDuplicate && parseInt(productQuantity) <= parseInt(addButton.dataset.productMax)) {\r\n");
      out.write("        nop += 1;\r\n");
      out.write("\r\n");
      out.write("        const product = {\r\n");
      out.write("            name: productName,\r\n");
      out.write("            size: productSize,\r\n");
      out.write("            quantity: productQuantity,\r\n");
      out.write("            price: productPrice,\r\n");
      out.write("            id: productID,\r\n");
      out.write("            ct: productCT\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        const productDetails = document.querySelector('.product-details');\r\n");
      out.write("\r\n");
      out.write("        const newProductInfo = document.createElement('div');\r\n");
      out.write("\r\n");
      out.write("        newProductInfo.classList.add('product-info');\r\n");
      out.write("        newProductInfo.setAttribute(\"data-product-choice\", \"true\");\r\n");
      out.write("        newProductInfo.setAttribute(\"data-product-id\", product.id);\r\n");
      out.write("        newProductInfo.setAttribute('data-product-name', product.name);\r\n");
      out.write("        newProductInfo.setAttribute('data-product-size', product.size);\r\n");
      out.write("        newProductInfo.setAttribute('data-product-quantity', product.quantity);\r\n");
      out.write("        newProductInfo.setAttribute('data-product-price', product.price);\r\n");
      out.write("        newProductInfo.setAttribute('data-product-ct', product.ct);\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        const nameSpan = document.createElement('span');\r\n");
      out.write("        nameSpan.classList.add('product-name');\r\n");
      out.write("        nameSpan.textContent = product.name;\r\n");
      out.write("        newProductInfo.appendChild(nameSpan);\r\n");
      out.write("\r\n");
      out.write("        const detailsSpan = document.createElement('span');\r\n");
      out.write("        detailsSpan.classList.add('price-detail');\r\n");
      out.write("        detailsSpan.textContent = '[' + parseInt(product.price) + ' x ' + product.quantity + ' = ' + parseInt(product.price) * parseInt(product.quantity) + ']';\r\n");
      out.write("        nameSpan.appendChild(document.createElement('br'));\r\n");
      out.write("        nameSpan.appendChild(detailsSpan);\r\n");
      out.write("\r\n");
      out.write("        const sizeSpan = document.createElement('span');\r\n");
      out.write("        sizeSpan.classList.add('product-size');\r\n");
      out.write("        sizeSpan.textContent = product.size;\r\n");
      out.write("        newProductInfo.appendChild(sizeSpan);\r\n");
      out.write("\r\n");
      out.write("        const quantitySpan = document.createElement('span');\r\n");
      out.write("        quantitySpan.classList.add('product-quantity');\r\n");
      out.write("        quantitySpan.textContent = product.quantity;\r\n");
      out.write("        newProductInfo.appendChild(quantitySpan);\r\n");
      out.write("\r\n");
      out.write("        const checkButton = document.createElement(\"button\");\r\n");
      out.write("        checkButton.classList.add(\"check-button\");\r\n");
      out.write("        checkButton.setAttribute(\"aria-pressed\", \"true\");\r\n");
      out.write("        checkButton.innerHTML = \"✓\";\r\n");
      out.write("        newProductInfo.appendChild(checkButton);\r\n");
      out.write("\r\n");
      out.write("        productDetails.appendChild(newProductInfo);\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    payment();\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("products.forEach(product => {\r\n");
      out.write("    const image = product.querySelector('img');\r\n");
      out.write("    const sizeButtons = product.querySelector('.sizes');\r\n");
      out.write("    const quantityButtons = product.querySelector('.quantity-selector');\r\n");
      out.write("    const actionButtons = product.querySelector('.action-buttons');\r\n");
      out.write("\r\n");
      out.write("    const quantityDisplay = product.querySelector('.number-display');\r\n");
      out.write("    let quantity = parseInt(quantityDisplay.getAttribute('data-quantity'), 10);\r\n");
      out.write("\r\n");
      out.write("    const addButton = product.querySelector('.add-button');\r\n");
      out.write("    const resetButton = product.querySelector('.reset-button');\r\n");
      out.write("    const minusButton = quantityButtons.querySelector('.minus-button');\r\n");
      out.write("    const plusButton = quantityButtons.querySelector('.plus-button');\r\n");
      out.write("    let quantityTimer = null;\r\n");
      out.write("\r\n");
      out.write("    const updateQuantityDisplay = (newQuantity) => {\r\n");
      out.write("        quantityDisplay.textContent = newQuantity;\r\n");
      out.write("        quantityDisplay.setAttribute('data-quantity', newQuantity);\r\n");
      out.write("        addButton.dataset.productQuantity = newQuantity;\r\n");
      out.write("    };\r\n");
      out.write("\r\n");
      out.write("    addButton.addEventListener('click', addProduct);\r\n");
      out.write("\r\n");
      out.write("    resetButton.addEventListener('click', () => {\r\n");
      out.write("        updateQuantityDisplay(1);\r\n");
      out.write("        quantity = 1;\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    minusButton.addEventListener('click', () => {\r\n");
      out.write("        if (quantity > 1) {\r\n");
      out.write("            quantity--;\r\n");
      out.write("            updateQuantityDisplay(quantity);\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    minusButton.addEventListener('mousedown', () => {\r\n");
      out.write("        quantityTimer = setTimeout(() => {\r\n");
      out.write("            quantityTimer = setInterval(() => {\r\n");
      out.write("                if (quantity > 1) {\r\n");
      out.write("                    quantity--;\r\n");
      out.write("                    updateQuantityDisplay(quantity);\r\n");
      out.write("                }\r\n");
      out.write("            }, 200);\r\n");
      out.write("        }, 500);\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    minusButton.addEventListener('mouseup', () => {\r\n");
      out.write("        clearInterval(quantityTimer);\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    plusButton.addEventListener('click', () => {\r\n");
      out.write("        if (quantity < parseInt(addButton.dataset.productMax)) {\r\n");
      out.write("            quantity++;\r\n");
      out.write("            updateQuantityDisplay(quantity);\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    plusButton.addEventListener('mousedown', () => {\r\n");
      out.write("        quantityTimer = setTimeout(() => {\r\n");
      out.write("            quantityTimer = setInterval(() => {\r\n");
      out.write("                if (quantity < parseInt(addButton.dataset.productMax)) {\r\n");
      out.write("                    quantity++;\r\n");
      out.write("                    updateQuantityDisplay(quantity);\r\n");
      out.write("                }\r\n");
      out.write("            }, 174);\r\n");
      out.write("        }, 400);\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    plusButton.addEventListener('mouseup', () => {\r\n");
      out.write("        clearInterval(quantityTimer);\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    product.addEventListener('click', () => {\r\n");
      out.write("        quantityButtons.addEventListener('click', event => {\r\n");
      out.write("            event.stopPropagation();\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        actionButtons.addEventListener('click', event => {\r\n");
      out.write("            event.stopPropagation();\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        sizeButtons.addEventListener('click', event => {\r\n");
      out.write("            const selectedSize = event.target;\r\n");
      out.write("            const selectedPrice = selectedSize.dataset.price;\r\n");
      out.write("            addButton.dataset.productSize = selectedSize.textContent;\r\n");
      out.write("            addButton.dataset.productPrice = selectedPrice;\r\n");
      out.write("            event.stopPropagation();\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        if (selectedProduct && selectedProduct !== product) {\r\n");
      out.write("            selectedProduct.querySelector('img').style.display = 'block';\r\n");
      out.write("            selectedProduct.querySelector('.sizes').style.display = 'none';\r\n");
      out.write("            selectedProduct.querySelector('.quantity-selector').style.display = 'none';\r\n");
      out.write("            selectedProduct.querySelector('.action-buttons').style.display = 'none';\r\n");
      out.write("            selectedProduct.querySelector('.number-display').setAttribute('data-quantity', 1);\r\n");
      out.write("            updateQuantityDisplay(1);\r\n");
      out.write("            quantity = 1;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        image.style.display = image.style.display === 'none' ? 'block' : 'none';\r\n");
      out.write("\r\n");
      out.write("        if (image.style.display === 'block') {\r\n");
      out.write("            sizeButtons.style.display = 'none';\r\n");
      out.write("            quantityButtons.style.display = 'none';\r\n");
      out.write("            actionButtons.style.display = 'none';\r\n");
      out.write("        } else {\r\n");
      out.write("            sizeButtons.style.display = 'flex';\r\n");
      out.write("            quantityButtons.style.display = 'flex';\r\n");
      out.write("            actionButtons.style.display = 'flex';\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        selectedProduct = product;\r\n");
      out.write("    });\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("document.addEventListener(\"click\", function(event) {\r\n");
      out.write("    const target = event.target;\r\n");
      out.write("    if (target.classList.contains(\"check-button\")) {\r\n");
      out.write("        toggleCheck(event);\r\n");
      out.write("        payment();\r\n");
      out.write("    }\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("document.getElementById(\"confirm-btn\").addEventListener(\"click\", function() {\r\n");
      out.write("    if (!paymentDisplayed && nop != 0) {\r\n");
      out.write("        totalDisplay = document.getElementById('total-cost-value');\r\n");
      out.write("        let paymentBtn = document.createElement(\"button\");\r\n");
      out.write("        paymentBtn.id = \"payment-btn\";\r\n");
      out.write("        paymentBtn.innerText = \"Thanh toán\";\r\n");
      out.write("        document.querySelector(\".confirm-button\").appendChild(paymentBtn);\r\n");
      out.write("        paymentBtn.style.display = 'inline-block';\r\n");
      out.write("\r\n");
      out.write("        paymentBtn.addEventListener(\"click\", () => {\r\n");
      out.write("        	sendDataToServer();\r\n");
      out.write("        	\r\n");
      out.write("        	nextID += 1;\r\n");
      out.write("        	\r\n");
      out.write("            sendCTSP();\r\n");
      out.write("            \r\n");
      out.write("            sendNL();\r\n");
      out.write("            \r\n");
      out.write("            form.submit();\r\n");
      out.write("\r\n");
      out.write("            const overlay = document.querySelector('#overlay');\r\n");
      out.write("            const productDetails = document.querySelectorAll(\".product-details .product-info\");\r\n");
      out.write("            const billProduct = document.querySelector(\".bill-product\");\r\n");
      out.write("            const howProduct = document.querySelector(\".product-how\");\r\n");
      out.write("            const billTotal = document.querySelector(\".bill-total\");\r\n");
      out.write("            const mahd = document.getElementById('mahd');\r\n");
      out.write("            const hdnv = document.getElementById('hd-nv');\r\n");
      out.write("            const totalCost = document.getElementById('total-cost-value');\r\n");
      out.write("            const line4 = document.createElement('span');\r\n");
      out.write("            const line5 = document.createElement('span');\r\n");
      out.write("\r\n");
      out.write("            line4.textContent = \"Total\";\r\n");
      out.write("            line5.textContent = totalCost.textContent;\r\n");
      out.write("\r\n");
      out.write("            mahd.textContent = '#' + nextID;\r\n");
      out.write("            hdnv.textContent = '#' + nextID + ' - ' + nvID;\r\n");
      out.write("\r\n");
      out.write("            overlay.style.display = 'block';\r\n");
      out.write("\r\n");
      out.write("            for (let i = 0; i < productDetails.length; i++) {\r\n");
      out.write("                if (productDetails[i].dataset.productChoice === \"true\") {\r\n");
      out.write("                    const handle = document.createElement('div');\r\n");
      out.write("                    handle.classList.add('handle');\r\n");
      out.write("                    const line = document.createElement('span');\r\n");
      out.write("                    const line1 = document.createElement('span');\r\n");
      out.write("                    const line3 = document.createElement('span');\r\n");
      out.write("\r\n");
      out.write("                    line1.style.marginRight = '10px';\r\n");
      out.write("\r\n");
      out.write("                    const info = document.createElement('div');\r\n");
      out.write("                    const line2 = document.createElement('div');\r\n");
      out.write("\r\n");
      out.write("                    line.textContent = productDetails[i].dataset.productName + ' ' + productDetails[i].dataset.productSize;\r\n");
      out.write("                    line1.textContent = productDetails[i].dataset.productQuantity;\r\n");
      out.write("                    line3.textContent = parseInt(productDetails[i].dataset.productQuantity) * parseInt(productDetails[i].dataset.productPrice);\r\n");
      out.write("                    line2.textContent = productDetails[i].dataset.productName + '-' + productDetails[i].dataset.productSize + ' SL: ' + productDetails[i].dataset.productQuantity;\r\n");
      out.write("                    info.textContent = '-> Công thức: none';\r\n");
      out.write("                    for (let j = 0; j < ctList.length; j++) {\r\n");
      out.write("                        if (ctList[j].maCT === productDetails[i].dataset.productCt) {\r\n");
      out.write("                            info.textContent = '-> Công thức: ' + ctList[j].congThuc;\r\n");
      out.write("                            break;\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("\r\n");
      out.write("                    handle.appendChild(line);\r\n");
      out.write("                    handle.appendChild(line1);\r\n");
      out.write("                    handle.appendChild(line3);\r\n");
      out.write("\r\n");
      out.write("                    billTotal.appendChild(line4);\r\n");
      out.write("                    billTotal.appendChild(line5);\r\n");
      out.write("\r\n");
      out.write("                    billProduct.appendChild(handle);\r\n");
      out.write("                    howProduct.appendChild(line2);\r\n");
      out.write("                    howProduct.appendChild(info);\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("\r\n");
      out.write("            const productDetailsContainer = document.querySelector('.product-details');\r\n");
      out.write("            while (productDetailsContainer.firstChild) {\r\n");
      out.write("                productDetailsContainer.removeChild(productDetailsContainer.firstChild);\r\n");
      out.write("            }\r\n");
      out.write("            productDetailsContainer.innerHTML = '<h3>Chi tiết sản phẩm</h3>';\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            totalDisplay.textContent = \"0\";\r\n");
      out.write("            paymentBtn.style.display = 'none';\r\n");
      out.write("            nop = 0;\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        paymentDisplayed = true;\r\n");
      out.write("    } else if (paymentDisplayed && nop != 0) {\r\n");
      out.write("        const paymentBtn = document.getElementById(\"payment-btn\");\r\n");
      out.write("        paymentBtn.style.display = 'inline-block';\r\n");
      out.write("    } else alert(\"Vui lòng chọn sản phẩm!\");\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("maloaiButtons.forEach(button => {\r\n");
      out.write("    button.addEventListener('click', () => {\r\n");
      out.write("        const maloai = button.dataset.maloai;\r\n");
      out.write("\r\n");
      out.write("        products.forEach(product => {\r\n");
      out.write("            if (maloai === 'all' || product.dataset.maloai === maloai) {\r\n");
      out.write("                product.style.display = 'block';\r\n");
      out.write("            } else {\r\n");
      out.write("                product.style.display = 'none';\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("const overlay = document.querySelector('#overlay');\r\n");
      out.write("\r\n");
      out.write("const closeButton = document.querySelector('#close-overlay');\r\n");
      out.write("\r\n");
      out.write("closeButton.addEventListener('click', function() {\r\n");
      out.write("    overlay.style.display = 'none';\r\n");
      out.write("    const billProduct = document.querySelector(\".bill-product\");\r\n");
      out.write("    const howProduct = document.querySelector(\".product-how\");\r\n");
      out.write("    const billTotal = document.querySelector(\".bill-total\");\r\n");
      out.write("\r\n");
      out.write("    while (billProduct.firstChild) {\r\n");
      out.write("        billProduct.removeChild(billProduct.firstChild);\r\n");
      out.write("    }\r\n");
      out.write("    while (howProduct.firstChild) {\r\n");
      out.write("        howProduct.removeChild(howProduct.firstChild);\r\n");
      out.write("    }\r\n");
      out.write("    while (billTotal.firstChild) {\r\n");
      out.write("        billTotal.removeChild(billTotal.firstChild);\r\n");
      out.write("    }\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fset_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f0 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f0_reused = false;
    try {
      _jspx_th_c_005fset_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f0.setParent(null);
      // /WEB-INF/views/sanpham/view3.jsp(13,1) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setVar("root");
      // /WEB-INF/views/sanpham/view3.jsp(13,1) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(13,1) '${pageContext.servletContext.contextPath}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${pageContext.servletContext.contextPath}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int _jspx_eval_c_005fset_005f0 = _jspx_th_c_005fset_005f0.doStartTag();
      if (_jspx_th_c_005fset_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
      _jspx_th_c_005fset_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f0 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f0_reused = false;
    try {
      _jspx_th_c_005fforEach_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f0.setParent(null);
      // /WEB-INF/views/sanpham/view3.jsp(77,2) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f0.setVar("ctkm");
      // /WEB-INF/views/sanpham/view3.jsp(77,2) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f0.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(77,2) '${listCTKM}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${listCTKM}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f0 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f0 = _jspx_th_c_005fforEach_005f0.doStartTag();
        if (_jspx_eval_c_005fforEach_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("    ");
            if (_jspx_meth_c_005fif_005f0(_jspx_th_c_005fforEach_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f0))
              return true;
            out.write("\r\n");
            out.write("  ");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f0[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f0.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f0.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f0);
      _jspx_th_c_005fforEach_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f0_reused = false;
    try {
      _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(78,4) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${makm == ctkm.pk.getKHUYENMAI().getMAKM()}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
      if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("      <p class=\"noDP\" data-sales-masp=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctkm.pk.getSANPHAM().getMASP()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-sales-size=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctkm.pk.getSIZE().getMASIZE()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-sales-pt=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctkm.PHANTRAM}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\"></p>\r\n");
          out.write("    ");
          int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
      _jspx_th_c_005fif_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f1 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f1_reused = false;
    try {
      _jspx_th_c_005fforEach_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f1.setParent(null);
      // /WEB-INF/views/sanpham/view3.jsp(86,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f1.setVar("loaiSP");
      // /WEB-INF/views/sanpham/view3.jsp(86,4) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f1.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(86,4) '${listLSP}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${listLSP}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f1 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f1 = _jspx_th_c_005fforEach_005f1.doStartTag();
        if (_jspx_eval_c_005fforEach_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("      <div class=\"category\" data-maloai=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loaiSP.MALOAI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write('"');
            out.write('>');
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loaiSP.TENLOAI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("</div>\r\n");
            out.write("    ");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f1.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f1[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f1.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f1.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f1);
      _jspx_th_c_005fforEach_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f2(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f2 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f2_reused = false;
    try {
      _jspx_th_c_005fforEach_005f2.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f2.setParent(null);
      // /WEB-INF/views/sanpham/view3.jsp(92,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f2.setVar("sanpham");
      // /WEB-INF/views/sanpham/view3.jsp(92,4) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f2.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(92,4) '${listSP}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${listSP}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f2 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f2 = _jspx_th_c_005fforEach_005f2.doStartTag();
        if (_jspx_eval_c_005fforEach_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("      <div class=\"product\" data-maloai=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.LOAISP.MALOAI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\">\r\n");
            out.write("        <img src=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${root}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("/resources/img/sanpham/");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.HINHANH}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" alt=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\" />\r\n");
            out.write("        <h3>");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("</h3>\r\n");
            out.write("        <div class=\"sizes\">\r\n");
            out.write("          ");
            if (_jspx_meth_c_005fforEach_005f3(_jspx_th_c_005fforEach_005f2, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f2))
              return true;
            out.write("\r\n");
            out.write("        </div>\r\n");
            out.write("        <div class=\"quantity-selector\">\r\n");
            out.write("          <button class=\"minus-button\">-</button>\r\n");
            out.write("          <div class=\"number-display\" data-quantity=\"1\">1</div>\r\n");
            out.write("          <button class=\"plus-button\">+</button>\r\n");
            out.write("        </div>\r\n");
            out.write("        <div class=\"action-buttons\" data-test=\"");
            out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
            out.write("\">\r\n");
            out.write("			");
            if (_jspx_meth_c_005fset_005f1(_jspx_th_c_005fforEach_005f2, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f2))
              return true;
            out.write("\r\n");
            out.write("			");
            if (_jspx_meth_c_005fforEach_005f4(_jspx_th_c_005fforEach_005f2, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f2))
              return true;
            out.write("\r\n");
            out.write("\r\n");
            out.write("          <button class=\"reset-button\">Reset</button>\r\n");
            out.write("        </div>\r\n");
            out.write("      </div>\r\n");
            out.write("    ");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f2.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f2[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f2.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f2.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f2);
      _jspx_th_c_005fforEach_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f2, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f3(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f2, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f2)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f3 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f3_reused = false;
    try {
      _jspx_th_c_005fforEach_005f3.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f2);
      // /WEB-INF/views/sanpham/view3.jsp(97,10) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f3.setVar("ctsp");
      // /WEB-INF/views/sanpham/view3.jsp(97,10) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f3.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(97,10) '${listCTSP}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${listCTSP}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f3 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f3 = _jspx_th_c_005fforEach_005f3.doStartTag();
        if (_jspx_eval_c_005fforEach_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("            ");
            if (_jspx_meth_c_005fif_005f1(_jspx_th_c_005fforEach_005f3, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f3))
              return true;
            out.write("\r\n");
            out.write("          ");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f3.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f3[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f3.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f3.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f3);
      _jspx_th_c_005fforEach_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f3, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f3_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f3, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f3)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f1_reused = false;
    try {
      _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f3);
      // /WEB-INF/views/sanpham/view3.jsp(98,12) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.MASP == ctsp.getSANPHAM().getMASP() && ctsp.getSIZE().getMASIZE() != 'K'}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
      if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("              <button class=\"size\" data-size=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-price=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.GIAHIENTHOI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write('"');
          out.write('>');
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("</button>\r\n");
          out.write("            ");
          int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
      _jspx_th_c_005fif_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f2, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f2)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f1 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f1_reused = false;
    try {
      _jspx_th_c_005fset_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f2);
      // /WEB-INF/views/sanpham/view3.jsp(109,3) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f1.setVar("buttonCreated");
      // /WEB-INF/views/sanpham/view3.jsp(109,3) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f1.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(109,3) 'false'",_jsp_getExpressionFactory().createValueExpression("false",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/sanpham/view3.jsp(109,3) name = scope type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f1.setScope("request");
      int _jspx_eval_c_005fset_005f1 = _jspx_th_c_005fset_005f1.doStartTag();
      if (_jspx_th_c_005fset_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.reuse(_jspx_th_c_005fset_005f1);
      _jspx_th_c_005fset_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f4(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f2, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f2)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f4 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    boolean _jspx_th_c_005fforEach_005f4_reused = false;
    try {
      _jspx_th_c_005fforEach_005f4.setPageContext(_jspx_page_context);
      _jspx_th_c_005fforEach_005f4.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f2);
      // /WEB-INF/views/sanpham/view3.jsp(110,3) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f4.setVar("ctsp");
      // /WEB-INF/views/sanpham/view3.jsp(110,3) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fforEach_005f4.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(110,3) '${listCTSP}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${listCTSP}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int[] _jspx_push_body_count_c_005fforEach_005f4 = new int[] { 0 };
      try {
        int _jspx_eval_c_005fforEach_005f4 = _jspx_th_c_005fforEach_005f4.doStartTag();
        if (_jspx_eval_c_005fforEach_005f4 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("			  ");
            if (_jspx_meth_c_005fif_005f2(_jspx_th_c_005fforEach_005f4, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
              return true;
            out.write("\r\n");
            out.write("			");
            int evalDoAfterBody = _jspx_th_c_005fforEach_005f4.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fforEach_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_c_005fforEach_005f4[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_c_005fforEach_005f4.doCatch(_jspx_exception);
      } finally {
        _jspx_th_c_005fforEach_005f4.doFinally();
      }
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f4);
      _jspx_th_c_005fforEach_005f4_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fforEach_005f4, _jsp_getInstanceManager(), _jspx_th_c_005fforEach_005f4_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f2(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f4, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f2 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    boolean _jspx_th_c_005fif_005f2_reused = false;
    try {
      _jspx_th_c_005fif_005f2.setPageContext(_jspx_page_context);
      _jspx_th_c_005fif_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f4);
      // /WEB-INF/views/sanpham/view3.jsp(111,5) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fif_005f2.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${!buttonCreated && sanpham.MASP == ctsp.getSANPHAM().getMASP()}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fif_005f2 = _jspx_th_c_005fif_005f2.doStartTag();
      if (_jspx_eval_c_005fif_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			    ");
          if (_jspx_meth_c_005fchoose_005f0(_jspx_th_c_005fif_005f2, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			  ");
          int evalDoAfterBody = _jspx_th_c_005fif_005f2.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fif_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f2);
      _jspx_th_c_005fif_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f2, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fchoose_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fif_005f2, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:choose
    org.apache.taglibs.standard.tag.common.core.ChooseTag _jspx_th_c_005fchoose_005f0 = (org.apache.taglibs.standard.tag.common.core.ChooseTag) _005fjspx_005ftagPool_005fc_005fchoose.get(org.apache.taglibs.standard.tag.common.core.ChooseTag.class);
    boolean _jspx_th_c_005fchoose_005f0_reused = false;
    try {
      _jspx_th_c_005fchoose_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fchoose_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f2);
      int _jspx_eval_c_005fchoose_005f0 = _jspx_th_c_005fchoose_005f0.doStartTag();
      if (_jspx_eval_c_005fchoose_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			      ");
          if (_jspx_meth_c_005fwhen_005f0(_jspx_th_c_005fchoose_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			      ");
          if (_jspx_meth_c_005fwhen_005f1(_jspx_th_c_005fchoose_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			      ");
          if (_jspx_meth_c_005fwhen_005f2(_jspx_th_c_005fchoose_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			      ");
          if (_jspx_meth_c_005fwhen_005f3(_jspx_th_c_005fchoose_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			    ");
          int evalDoAfterBody = _jspx_th_c_005fchoose_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fchoose_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f0);
      _jspx_th_c_005fchoose_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fchoose_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fchoose_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f0 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    boolean _jspx_th_c_005fwhen_005f0_reused = false;
    try {
      _jspx_th_c_005fwhen_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fwhen_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(113,9) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fwhen_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE() == 'K'}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fwhen_005f0 = _jspx_th_c_005fwhen_005f0.doStartTag();
      if (_jspx_eval_c_005fwhen_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			        ");
          if (_jspx_meth_c_005fset_005f2(_jspx_th_c_005fwhen_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			        <button class=\"add-button\" data-product-id=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.MASP}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-name=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-size=\"K\" data-product-quantity=\"1\" data-product-price=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.GIAHIENTHOI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-max=\"1000\" data-product-ct=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getCONGTHUC().getMACT()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\">Add</button>\r\n");
          out.write("			      ");
          int evalDoAfterBody = _jspx_th_c_005fwhen_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fwhen_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f0);
      _jspx_th_c_005fwhen_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fwhen_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fwhen_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f2(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fwhen_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f2 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f2_reused = false;
    try {
      _jspx_th_c_005fset_005f2.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fwhen_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(114,11) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f2.setVar("buttonCreated");
      // /WEB-INF/views/sanpham/view3.jsp(114,11) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f2.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(114,11) 'true'",_jsp_getExpressionFactory().createValueExpression("true",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/sanpham/view3.jsp(114,11) name = scope type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f2.setScope("request");
      int _jspx_eval_c_005fset_005f2 = _jspx_th_c_005fset_005f2.doStartTag();
      if (_jspx_th_c_005fset_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.reuse(_jspx_th_c_005fset_005f2);
      _jspx_th_c_005fset_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f2, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f1 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    boolean _jspx_th_c_005fwhen_005f1_reused = false;
    try {
      _jspx_th_c_005fwhen_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fwhen_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(117,9) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fwhen_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE() == 'L'}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fwhen_005f1 = _jspx_th_c_005fwhen_005f1.doStartTag();
      if (_jspx_eval_c_005fwhen_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			        ");
          if (_jspx_meth_c_005fset_005f3(_jspx_th_c_005fwhen_005f1, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			        <button class=\"add-button\" data-product-id=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.MASP}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-name=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-size=\"L\" data-product-quantity=\"1\" data-product-price=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.GIAHIENTHOI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-max=\"1000\" data-product-ct=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getCONGTHUC().getMACT()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\">Add</button>\r\n");
          out.write("			      ");
          int evalDoAfterBody = _jspx_th_c_005fwhen_005f1.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fwhen_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f1);
      _jspx_th_c_005fwhen_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fwhen_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fwhen_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f3(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fwhen_005f1, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f3 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f3_reused = false;
    try {
      _jspx_th_c_005fset_005f3.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fwhen_005f1);
      // /WEB-INF/views/sanpham/view3.jsp(118,11) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f3.setVar("buttonCreated");
      // /WEB-INF/views/sanpham/view3.jsp(118,11) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f3.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(118,11) 'true'",_jsp_getExpressionFactory().createValueExpression("true",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/sanpham/view3.jsp(118,11) name = scope type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f3.setScope("request");
      int _jspx_eval_c_005fset_005f3 = _jspx_th_c_005fset_005f3.doStartTag();
      if (_jspx_th_c_005fset_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.reuse(_jspx_th_c_005fset_005f3);
      _jspx_th_c_005fset_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f3, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f3_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f2(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f2 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    boolean _jspx_th_c_005fwhen_005f2_reused = false;
    try {
      _jspx_th_c_005fwhen_005f2.setPageContext(_jspx_page_context);
      _jspx_th_c_005fwhen_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(121,9) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fwhen_005f2.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE() == 'M'}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fwhen_005f2 = _jspx_th_c_005fwhen_005f2.doStartTag();
      if (_jspx_eval_c_005fwhen_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			        ");
          if (_jspx_meth_c_005fset_005f4(_jspx_th_c_005fwhen_005f2, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			        <button class=\"add-button\" data-product-id=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.MASP}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-name=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-size=\"M\" data-product-quantity=\"1\" data-product-price=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.GIAHIENTHOI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-max=\"1000\" data-product-ct=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getCONGTHUC().getMACT()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\">Add</button>\r\n");
          out.write("			      ");
          int evalDoAfterBody = _jspx_th_c_005fwhen_005f2.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fwhen_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f2);
      _jspx_th_c_005fwhen_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fwhen_005f2, _jsp_getInstanceManager(), _jspx_th_c_005fwhen_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f4(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fwhen_005f2, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f4 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f4_reused = false;
    try {
      _jspx_th_c_005fset_005f4.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f4.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fwhen_005f2);
      // /WEB-INF/views/sanpham/view3.jsp(122,11) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f4.setVar("buttonCreated");
      // /WEB-INF/views/sanpham/view3.jsp(122,11) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f4.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(122,11) 'true'",_jsp_getExpressionFactory().createValueExpression("true",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/sanpham/view3.jsp(122,11) name = scope type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f4.setScope("request");
      int _jspx_eval_c_005fset_005f4 = _jspx_th_c_005fset_005f4.doStartTag();
      if (_jspx_th_c_005fset_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.reuse(_jspx_th_c_005fset_005f4);
      _jspx_th_c_005fset_005f4_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f4, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f4_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f3(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f3 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    boolean _jspx_th_c_005fwhen_005f3_reused = false;
    try {
      _jspx_th_c_005fwhen_005f3.setPageContext(_jspx_page_context);
      _jspx_th_c_005fwhen_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
      // /WEB-INF/views/sanpham/view3.jsp(125,9) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fwhen_005f3.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getSIZE().getMASIZE() == 'S'}", boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null)).booleanValue());
      int _jspx_eval_c_005fwhen_005f3 = _jspx_th_c_005fwhen_005f3.doStartTag();
      if (_jspx_eval_c_005fwhen_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("			        ");
          if (_jspx_meth_c_005fset_005f5(_jspx_th_c_005fwhen_005f3, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f4))
            return true;
          out.write("\r\n");
          out.write("			        <button class=\"add-button\" data-product-id=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.MASP}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-name=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${sanpham.TEN}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-size=\"S\" data-product-quantity=\"1\" data-product-price=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.GIAHIENTHOI}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\" data-product-max=\"1000\" data-product-ct=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctsp.getCONGTHUC().getMACT()}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
          out.write("\">Add</button>\r\n");
          out.write("			      ");
          int evalDoAfterBody = _jspx_th_c_005fwhen_005f3.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fwhen_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f3);
      _jspx_th_c_005fwhen_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fwhen_005f3, _jsp_getInstanceManager(), _jspx_th_c_005fwhen_005f3_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f5(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fwhen_005f3, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f4)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f5 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f5_reused = false;
    try {
      _jspx_th_c_005fset_005f5.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f5.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fwhen_005f3);
      // /WEB-INF/views/sanpham/view3.jsp(126,11) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f5.setVar("buttonCreated");
      // /WEB-INF/views/sanpham/view3.jsp(126,11) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f5.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/sanpham/view3.jsp(126,11) 'true'",_jsp_getExpressionFactory().createValueExpression("true",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      // /WEB-INF/views/sanpham/view3.jsp(126,11) name = scope type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f5.setScope("request");
      int _jspx_eval_c_005fset_005f5 = _jspx_th_c_005fset_005f5.doStartTag();
      if (_jspx_th_c_005fset_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fscope_005fnobody.reuse(_jspx_th_c_005fset_005f5);
      _jspx_th_c_005fset_005f5_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f5, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f5_reused);
    }
    return false;
  }
}
